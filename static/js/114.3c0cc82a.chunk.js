"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[114],{5114:function(s,t,e){e.r(t),e.d(t,{default:function(){return D}});var n=e(1413),r=e(5671),i=e(3144),o=e(136),u=e(5716),a=e(2791),p=e(364),d=e(81),c="ProfileInfo_descriptionBlock__70nUW",l=e(4374),h=e(885),f=e(184),x=function(s){var t=(0,a.useState)(!1),e=(0,h.Z)(t,2),n=e[0],r=e[1],i=(0,a.useState)(s.status),o=(0,h.Z)(i,2),u=o[0],p=o[1];(0,a.useEffect)((function(){p(s.status)}),[s.status]);return(0,f.jsxs)("div",{children:[!n&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){r(!0)},children:u||"---------"})}),n&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:function(s){p(s.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1)},value:u})})]})},j=function(s){var t=s.profile,e=s.status,n=s.updateStatus;return t?(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)("img",{src:t.photos.large,alt:"Large profile photo"}),(0,f.jsx)(x,{status:e,updateStatus:n})]})}):(0,f.jsx)(l.p,{})},m="Posts_postsBlock__IWtKM",v="Posts_posts__ajylT",g="Post_item__ZxQRY",k=function(s){return(0,f.jsxs)("div",{className:g,children:[(0,f.jsx)("img",{src:"https://asset.kompas.com/crops/-QSHMGMmRvrDcDZeZbRh0wrk4NM=/0x81:466x391/750x500/data/photo/2023/11/09/654c73dbe7559.jpg",alt:"Avatar"}),s.message,(0,f.jsx)("div",{children:(0,f.jsx)("span",{children:"Like"})}),(0,f.jsxs)("div",{children:["Likes: ",s.likesCount]})]})},P=e(6139),S=e(704),_=e(3079),Z=e(1117),b=(0,_.D)(10),C=(0,S.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,f.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,f.jsx)("div",{children:(0,f.jsx)(P.Z,{name:"newPostText",component:Z.gx,validate:[_.C,b],placeholder:"Post message"})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{children:"Remove"}),(0,f.jsx)("button",{children:"Add post"})]})]})})),w=(0,a.memo)((function(s){var t=s.posts.map((function(s){return(0,f.jsx)(k,{id:s.id,message:s.message,likesCount:s.likesCount},s.id)}));return(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("h3",{children:"My posts"}),(0,f.jsx)(C,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,f.jsx)("div",{className:v,children:t})]})})),y=(0,p.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addPost:function(t){s((0,d.Wl)(t))}}}))(w),N=function(s){return(0,f.jsxs)("div",{children:[(0,f.jsx)(j,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,f.jsx)(y,{})]})},I=e(9271),M=e(7781),A=function(s){(0,o.Z)(e,s);var t=(0,u.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"render",value:function(){return(0,f.jsx)(N,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(a.Component),D=(0,M.qC)((0,p.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:d.et,getStatus:d.lR,updateStatus:d.Nf}),I.EN)(A)}}]);
//# sourceMappingURL=114.3c0cc82a.chunk.js.map